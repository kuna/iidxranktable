<!-- for example, http://json.iidx.me/delmitz/sp/level/12/ -->
<!-- from http://iidx.me/!/developer/ -->
<html>
<head>
<title>json.iidx.me json parser</title>

<script src="./static/js/jquery-2.1.3.min.js"></script>
<script>
function convert2JSON() {
	// remove player and so on, just remaining title and id
	delete data["userdata"];
	delete data["status"];
	for (var i in data["musicdata"]) {
		delete data["musicdata"][i]["clear"] ;
		delete data["musicdata"][i]["score"];
		delete data["musicdata"][i]["miss"] ;
	}

	return JSON.stringify(data);
}

function process(json) {
	$('#songs').empty()

	data = $.parseJSON(json);
	var musicdata = data.musicdata;
	for (var i=0; i<musicdata.length; i++) {
		var newele = $('<div class="music"></div>');
		newele.append("<span class='title'>" + musicdata[i].data.title + "</span>");
		newele.append("<span class='number'>" + musicdata[i].data.id + "</span>");
		$('#songs').append(newele)
	}

	console.log('found ' + musicdata.length + ' songs');
}

$(document).ready(function () {
	$('#go').click(function () {
		process($("#json").val());
	});
	$('#out').click(function () {
		$("#output").val(convert2JSON());
	});

	console.log('init fniished');
});
</script>

<style>
body { font-size:12px; }
#result { display:block; width:50px; height:20px; background-color: #ccc; }
#songs { width:800px; clear:both; }
.music { display:block; width:200px; float:left; margin-right: 20px; }
.music .title { font-weight: bold; }
.music .number { float:right; }
</style>

</head>
<body>

<div id="result"></div>
<div id="songs"></div>

<textarea cols=10 rows=10 id="json"></textarea><br>
<input type="button" value="go" id="go">
<input type="button" value="out" id="out"><br>
<textarea cols=10 rows=10 id="output"></textarea>

</body>
</html>