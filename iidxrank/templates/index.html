{% extends "common.html" %}
{% block head %}
<script>
var dname = "http://" + window.location.host;

function addSPbutton(text, url) {
	url = url.replace("//", "/");
	$("#spcontainer").append('<a href="' + url + '"><button type="button" class="btn btn-primary">' + text + '</button></a>');
}

function addDPbutton(text, url) {
	url = url.replace("//", "/");
	$("#dpcontainer").append('<a href="' + url + '"><button type="button" class="btn btn-danger">' + text + '</button></a>');
}

function moveUserpage() {
	var username = $("#username").val();
	if (username == "") {
		window.location.href = dname + "/iidx";
	} else {
		window.location.href = dname + "/iidx/" + username;
	}
}

$(document).ready(function () {
	$("#goto").click(function () {
		moveUserpage();
	});

	$("#username").keypress(function (e) {
		if (e.which == 13) {
			moveUserpage();
			return false;
		}
	});

	var username = "{{ player.userid }}";
	if (username.length == 0)
		username = "!";

	addSPbutton("SP12.7", "/iidx/" + username + "/sp/12_7");
	addSPbutton("SP12 (2ch)", "/iidx/" + username + "/sp/12");
	addSPbutton("SP11", "/iidx/" + username + "/sp/11");
	addSPbutton("SP10", "/iidx/" + username + "/sp/10");
	addSPbutton("SP9", "/iidx/" + username + "/sp/9");
	addSPbutton("SP8", "/iidx/" + username + "/sp/8");

	addSPbutton("SP12N", "/iidx/" + username + "/sp/12N");
	addSPbutton("SP11N", "/iidx/" + username + "/sp/11N");

	addDPbutton("DP12", "/iidx/" + username + "/dp/12");
	addDPbutton("DP11", "/iidx/" + username + "/dp/11");
	addDPbutton("DP10", "/iidx/" + username + "/dp/10");
	addDPbutton("DP9", "/iidx/" + username + "/dp/9");
	addDPbutton("DP8", "/iidx/" + username + "/dp/8");
});
</script>

<style type="text/css">
#container { max-width: 320px; margin:100px auto 0; }
#goto { cursor:pointer; cursor:hand;/*fallback*/ }
.row { clear:both; margin-bottom:10px; }
.row button { margin-right:6px; margin-bottom:6px; }
.center { text-align:center; }

h4.djname { float:left; }
h4.level { float:right; cursor:help; }
h4.level span { display:none; }
h4.level:hover span { display:inline; }
</style>
{% endblock %}
{% block body %}
<div id="container">
	{% if player %}
	<div class="row">
		<div class="userimage" style="text-align:center;"><img src="/iidx/qpro/{{ player.iidxid }}"></div>
		<h4 class="djname">DJ {{ player.username }}</h4>
		<h4 class="level"><span class="label label-default">COMING SOON</span>★{{ player.spclass}} / ★{{ player.dpclass }}</h4>
	</div>
	{% endif %}

	<div class="row input-group">
		<input type="text" class="form-control" value="{{ player.userid }}" aria-describedby="basic-addon2" id="username">
		<span class="input-group-addon" id="goto">iidx.me ID</span>
	</div>

	{% block notice %}
		
	{% endblock %}

	<div class="row center" id="spcontainer">
	</div>

	<div class="row center" id="dpcontainer">
	</div>
	
	<div class="row center">
		<a href="/iidx/songcomment/all/1/"><button type="button" class="btn btn-warning">Recent Comments</button></a>
		<a href="/iidx/selectmusic/"><button type="button" class="btn btn-warning">Select Music</button></a>
	</div>

	<div class="row center">
		<a href="https://github.com/kuna/iidxme_chromeapp/blob/master/app.crx">크롬</a> / <a href="https://github.com/kuna/iidxme_android/blob/master/iidxme.apk">안드로이드</a> iidx.me 갱신 앱을 사용해 보세요.
	</div>

</div>
{% endblock %}
